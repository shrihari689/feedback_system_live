(this.webpackJsonpfeedback_system=this.webpackJsonpfeedback_system||[]).push([[0],{28:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},44:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},65:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(2),c=a.n(s),i=a(45),r=a.n(i),l=(a(53),a(6)),d=a(3),o=(a(54),a(55),a(9)),j=a(4),u=(a(15),"stayahead@bitsathy.ac.in"),b=function(e){var t;return e&&null!=e&&"password"===(null===(t=e.providerData[0])||void 0===t?void 0:t.providerId)},h={apiKey:"AIzaSyB86IL168LpKedM1R-vDXRp4YbhOari6D0",authDomain:"bit-feedback.web.app",databaseURL:"https://bit-feedback.firebaseio.com",projectId:"bit-feedback",storageBucket:"bit-feedback.appspot.com",messagingSenderId:"1082863154592",appId:"1:1082863154592:web:1f7b7f6059384c838f20c5",measurementId:"G-LTYF1LQMRB"},f=function(e){var t="";return t+=e.getDate()+" ",t+=["Jan","Feb","Mar","Apr","May","Jun","July","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+" ",t+=e.getFullYear()+" | ",0===e.getHours()?t+="12:":(t+=e.getHours()<10?"0":"",t+=(e.getHours()>12?e.getHours()-12<10?"0"+(e.getHours()-12):e.getHours()-12:e.getHours())+":"),t+=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+" ",t+=e.getHours()>11?"PM":"AM"},m="https://firebasestorage.googleapis.com/v0/b/bit-feedback.appspot.com/o/Assets%2FanonymousImage.png?alt=media&token=59de702e-5ed3-4051-9303-a015befe637e",O={ae:"AERONAUTICAL ENGINEERING",ag:"AGRICULTURE ENGINEERING",ad:"ARTIFICIAL INTELLIGENCE AND DATA SCIENCE",au:"AUTOMOBILE ENGINEERING",bm:"BIOMEDICAL ENGINEERING",bt:"BIOTECHNOLOGY",ce:"CIVIL ENGINEERING",cb:"COMPUTER SCIENCE AND BUSINESS SYSTEMS",cs:"COMPUTER SCIENCE AND ENGINEERING",ct:"COMPUTER TECHNOLOGY",ee:"ELECTRONICS AND ELECTRICAL ENGINEERING",ec:"ELECTRONICS AND COMMUNICATION ENGINEERING",ei:"ELECTRONICS AND INSTRUMENTATION ENGINEERING",ft:"FASHION TECHNOLOGY",fd:"FOOD TECHNOLOGY",ig:"INFORMATION SCIENCE AND ENGINEERING",it:"INFORMATION TECHNOLOGY",me:"MECHANICAL ENGINEERING",mc:"MECHATRONICS",tx:"TEXTILE TECHNOLOGY"},_=function(){return Object(n.jsx)("div",{className:"loader__container",children:Object(n.jsx)("div",{className:"loadingio-spinner-ellipsis-7zuhguoj49i",children:Object(n.jsxs)("div",{className:"ldio-v566hzdcgxp",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})})})},x=a.p+"static/media/feedbackIllus.22ba0516.svg",p=a.p+"static/media/ElonMusk.f0466622.jpg",g=a.p+"static/media/GoogleSignInButton.a3e637ee.svg",v=a.p+"static/media/GoogleSignInButtonHover.e59320d5.svg",N=function(e){var t=e.onLogin;return e.isLoading?Object(n.jsx)(_,{}):Object(n.jsxs)("div",{className:"row banner",children:[Object(n.jsx)("div",{className:"col",children:Object(n.jsx)("img",{className:"hero-banner",src:x,alt:"Feedback Illustration"})}),Object(n.jsxs)("div",{className:"col signin-banner",children:[Object(n.jsx)("h1",{children:"HAVING ANY QUERIES ?"}),Object(n.jsxs)("div",{onClick:t,className:"google-sign-button",children:[Object(n.jsx)("img",{src:v,className:"static",alt:"Google Sign In"}),Object(n.jsx)("img",{src:g,className:"onHover",alt:"Google Sign In White"})]}),Object(n.jsxs)("div",{className:"quote-col",children:[Object(n.jsxs)("p",{className:"row quote",children:[Object(n.jsx)("i",{className:"fa fa-quote-left","aria-hidden":"true"})," I think it\u2019s very important to have a feedback loop, where you\u2019re constantly thinking about what you\u2019ve done and how you could be doing it better. ",Object(n.jsx)("i",{className:"fa fa-quote-right","aria-hidden":"true"})]}),Object(n.jsxs)("div",{className:"row quote-author",children:[Object(n.jsx)("img",{src:p,alt:"Quote Author"}),Object(n.jsx)("h3",{children:"Elon Musk"})]})]})]})]})},I=a.p+"static/media/bitLogo.43941a60.png",y=a(8),A=function(e){return Object(n.jsxs)("nav",{children:[Object(n.jsx)(y.b,{to:"/",children:Object(n.jsx)("img",{src:I,className:"logo",alt:"Bannari Amman Institute of Technology"})}),Object(n.jsx)("a",{href:"mailto:".concat(u),className:"nav-button",children:"Support"})]})},C=(a(60),a(18),function(e){e.history;var t=Object(s.useState)(!1),a=Object(d.a)(t,2),i=a[0],r=a[1];return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(A,{}),Object(n.jsx)(N,{isLoading:i,onLogin:function(){r(!0);var e=new j.a.auth.GoogleAuthProvider;e.setCustomParameters({hd:"bitsathy.ac.in",prompt:"select_account"}),j.a.auth().signInWithRedirect(e).then((function(e){r(!1)})).catch((function(e){alert("Error in Login! Try after sometime!"),r(!1)}))}})]})}),E=(a(62),function(e){var t=e.isLoading,a=e.onLogin,c=Object(s.useState)(""),i=Object(d.a)(c,2),r=i[0],l=i[1],o=Object(s.useState)(""),j=Object(d.a)(o,2),u=j[0],b=j[1];return t?Object(n.jsx)(_,{}):Object(n.jsxs)("div",{className:"adminFormContainer",children:[Object(n.jsx)("h2",{children:"Admin Login"}),Object(n.jsxs)("div",{className:"inputGroup",children:[Object(n.jsx)("label",{htmlFor:"adminLoginEmail",children:"Email ID"}),Object(n.jsx)("input",{type:"email",value:r,onChange:function(e){var t=e.target;return l(t.value.trim())},id:"adminLoginEmail",pattern:".*@bitsathy.ac.in$",placeholder:"Admin Email ID"})]}),Object(n.jsxs)("div",{className:"inputGroup",children:[Object(n.jsx)("label",{htmlFor:"adminLoginPassword",children:"Password"}),Object(n.jsx)("input",{type:"password",value:u,onChange:function(e){var t=e.target;return b(t.value)},id:"adminLoginPassword",placeholder:"Admin Password"})]}),Object(n.jsx)("div",{className:"inputGroup",children:Object(n.jsx)("input",{onClick:function(){r?u?u&&u.length<8?alert("Password must be more than 8 characters!"):a(r,u):alert("Password is Required!"):alert("Email is Required!")},type:"submit",value:"Login"})})]})}),F=function(){var e=Object(s.useState)(!1),t=Object(d.a)(e,2),a=t[0],i=t[1];return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(A,{}),Object(n.jsx)(E,{isLoading:a,onLogin:function(e,t){i(!0),j.a.auth().signInWithEmailAndPassword(e,t).then((function(e){})).catch((function(e){alert("Error in Login!"),i(!0)}))}})]})},w=function(e){var t=e.isAdmin,a=e.user,s=function(){var e=document.getElementById("sidebar");e.classList.toggle("open"),e.querySelector("div").classList.toggle("open")},i=function(){j.a.auth().signOut().then((function(e){})).catch((function(e){alert("Error in Logging out!")}))};return a&&b(a)?Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsxs)("nav",{children:[Object(n.jsx)("i",{onClick:s,className:"fa fa-bars mobile-menu"}),Object(n.jsx)(y.b,{to:"/",children:Object(n.jsx)("img",{src:I,className:"logo",alt:"Bannari Amman Institute of Technology"})}),Object(n.jsxs)("ul",{children:[Object(n.jsx)(y.c,{to:"/admin/feeds",children:"Feeds"}),Object(n.jsx)(y.c,{to:"/admin/manage/users",children:"Settings"}),Object(n.jsx)(y.c,{to:"/admin/help",children:"Help"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("a",{href:"mailto:".concat(u),className:"nav-button",children:"Support"}),Object(n.jsx)("span",{onClick:i,className:"nav-button",children:"Logout"})]}),Object(n.jsx)("i",{className:"fa fa-bars mobile-menu hidden"})]}),Object(n.jsxs)("div",{id:"sidebar",className:"sidebar",children:[Object(n.jsx)("i",{onClick:s,className:"close-button fa fa-close"}),Object(n.jsxs)("div",{className:"sidebar__container",children:[Object(n.jsxs)("ul",{onClick:s,children:[Object(n.jsx)(y.c,{to:"/admin/feeds",children:"Feeds"}),Object(n.jsx)(y.c,{to:"/admin/manage/users",children:"Settings"}),Object(n.jsx)(y.c,{to:"/admin/help",children:"Help"})]}),Object(n.jsx)("a",{href:"mailto:".concat(u),className:"sidebar__button",children:"Support"}),Object(n.jsx)("span",{onClick:i,className:"sidebar__button",children:"Logout"})]})]})]}):t?Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsxs)("nav",{children:[Object(n.jsx)("i",{onClick:s,className:"fa fa-bars mobile-menu"}),Object(n.jsx)(y.b,{to:"/",children:Object(n.jsx)("img",{src:I,className:"logo",alt:"Bannari Amman Institute of Technology"})}),Object(n.jsxs)("ul",{children:[Object(n.jsx)(y.c,{to:"/admin/feeds",children:"Feeds"}),Object(n.jsx)(y.c,{to:"/admin/myfeeds",children:"Personal"}),Object(n.jsx)(y.c,{to:"/admin/help",children:"Help"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("a",{href:"mailto:".concat(u),className:"nav-button",children:"Support"}),Object(n.jsx)("span",{onClick:i,className:"nav-button",children:"Logout"})]}),Object(n.jsx)("i",{className:"fa fa-bars mobile-menu hidden"})]}),Object(n.jsxs)("div",{id:"sidebar",className:"sidebar",children:[Object(n.jsx)("i",{onClick:s,className:"close-button fa fa-close"}),Object(n.jsxs)("div",{className:"sidebar__container",children:[Object(n.jsxs)("ul",{onClick:s,children:[Object(n.jsx)(y.c,{to:"/admin/feeds",children:"Feeds"}),Object(n.jsx)(y.c,{to:"/admin/myfeeds",children:"Personal"}),Object(n.jsx)(y.c,{to:"/admin/help",children:"Help"})]}),Object(n.jsx)("a",{href:"mailto:".concat(u),className:"sidebar__button",children:"Support"}),Object(n.jsx)("span",{onClick:i,className:"sidebar__button",children:"Logout"})]})]})]}):Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsxs)("nav",{children:[Object(n.jsx)("i",{onClick:s,className:"fa fa-bars mobile-menu"}),Object(n.jsx)(y.b,{to:"/",children:Object(n.jsx)("img",{src:I,className:"logo",alt:"Bannari Amman Institute of Technology"})}),Object(n.jsxs)("ul",{children:[Object(n.jsx)(y.c,{to:"/feeds",children:"Feeds"}),Object(n.jsx)(y.c,{to:"/profile",children:"Profile"}),Object(n.jsx)(y.c,{to:"/help",children:"Help"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("a",{href:"mailto:".concat(u),className:"nav-button",children:"Support"}),Object(n.jsx)("span",{onClick:i,className:"nav-button",children:"Logout"})]}),Object(n.jsx)("i",{className:"fa fa-bars mobile-menu hidden"})]}),Object(n.jsxs)("div",{id:"sidebar",className:"sidebar",children:[Object(n.jsx)("i",{onClick:s,className:"close-button fa fa-close"}),Object(n.jsxs)("div",{className:"sidebar__container",children:[Object(n.jsxs)("ul",{onClick:s,children:[Object(n.jsx)(y.c,{to:"/feeds",children:"Feeds"}),Object(n.jsx)(y.c,{to:"/profile",children:"Profile"}),Object(n.jsx)(y.c,{to:"/help",children:"Help"})]}),Object(n.jsx)("a",{href:"mailto:".concat(u),className:"sidebar__button",children:"Support"}),Object(n.jsx)("span",{onClick:i,className:"sidebar__button",children:"Logout"})]})]})]})},S=(a(28),a.p+"static/media/noDataIllus.9f31958f.svg"),D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAgMAAACJFjxpAAAADFBMVEXFxcX////p6enW1tbAmiBwAAAFiElEQVR4AezAgQAAAACAoP2pF6kAAAAAAAAAAAAAAIDbu2MkvY0jiuMWWQoUmI50BB+BgRTpCAz4G6C8CJDrC3AEXGKPoMTlYA/gAJfwETawI8cuBs5Nk2KtvfiLW+gLfK9m+r3X82G653+JP/zjF8afP1S//y+An4/i51//AsB4aH+/QPD6EQAY/zwZwN8BAP50bh786KP4+VT+3fs4/noigEc+jnHeJrzxX+NWMDDh4g8+EXcnLcC9T8U5S/CdT8bcUeBEIrwBOiI8ki7Ba5+NrePgWUy89/nYyxQ8Iw3f+pWY4h1gb3eAW7sDTPEOsLc7wK1TIeDuDB+I/OA1QOUHv/dFsZQkhKkh4QlEfOULYz2nGj2/Nn1LmwR/86VxlCoAW6kCsHRGANx1RgCMo5Qh2EsZgrXNQZZShp5Liv7Il8eIc5C91EHY2hxk6bwYmNscZIReDBwtCdhbErC1JGBpScBcOgFMLQsZMQs5Whayd+UQsLYsZGlZyNyykKllISNmIUfAwifw8NXvTojAjGFrdYi11SGWVoeYWx1i6lmQCiEjFkKOVgjZ+xxIhZCtFULWHkCqxCw9gNQKmP9vNHzipdEPrRcxtVbAeDkAvve0iM2QozVD9hfjhp4YP/UrkJYDbD2AtBxgfSkAvvHEeNcDSAsilgtAWxIy91J8AXgZAJ5e33+4tuACcAG4AFwALgBXRXQB6AFcB5MXAuA6nl9/0Vx/011/1V5/1/dfTPJvRtdnu/zL6beeFO/7r+fXBYbrEkt/j+i6ytXfpuvvE/ZXOnsA/a3a/l5xf7O6v1t+Xe/vOyz6HpO8yyboM8o7rfJes77bru83THk48p7TvOs27zvOO6/73vO++z7l4cgnMPQzKPopHC0N9noSSz6LJp/Gk88jyicy5TOp6qlc+VyyfDJbPpuuns6XzyfMJzTmMyrrKZ35nNJ8Ums+q7af1tvPK+4nNodEnPKp3fnc8npyez67/qVP7+/fL8hfcMjfsOhf8cjfMclfcnn9+BkOnLECP8Q58OYeyJ40eoyF6Ee/En/JHlP6mIlRVXprF4BxtAvArV0AxtEuALd2ARhHuwDc2gVgHPX/hFv9fMBddjIGeKg/WCxlCsI46u+Ga5mCcJd+sIG9UkGAW32ZbApFAHhod4Bb3eo04h3god0BbiUHYApVCNjbHeBW+QDAXT4a7qg7r7e214057vg0QhkEHkoSwq0kIdydXw4/Q3H8hjYJ3vL0WConBJhCHQaOToeBrU0BljYFmEoVgHGUKgAPnREAt84IgLuqFgAYSUEOAHszDwuAtSkHAZhLGYIpdCLgKGUIHtocZG1zkLmUIRhxDnJU1RDA1uYga5uDzKUOwhTnIEfnxcDe5iBrcyQAYGlzkKkUYhhxDrKXQgxbSwLWUohhbknA1JKAEZOAvSUBW0sC1pYEzC0JmFoSMMJyCDhaFrK3JGDtyiFgaVnI3LKQqWUhI2YhR8tC9paFrC0LWVoWMrcsZGpZyIhZyNGykL2rSIGtlQHWVgZYWhlgbmWAqZUBRiwDHK0MsLcywNbKAGsOoNUhllaHmFsdYmp1iBHrEEerQ+w5gFYI2VodYm11iKXVIeYcQCuETK0QMmIh5MgBtELI3gohWyuErDmAVolZWiFkzgG0SszUKjGjfj6gVmKOVonZcwCtFbB9HQC+ozWDbz1bvGu9iKW1AuYcQOtFTLEX1GbIaFegN0OOHEBrhuw5gNYM2XIArRuz5gDacoB3bTnAEktxXQ4wfw0AvveM8b4tiJjSJOwLIsbXsAKeNeKCiOO3D+AVbUl0AfjGs8ZPbUnIdgFoa1LWC0BblfMuB9AeC1j6gqQE0J9LmC8AOYD2ZMb7i4bt2ZTpWoHfPoB7Tj2fXzT8N1X41vkq/QHOAAAAAElFTkSuQmCC",k=function(e){var t=e.feed,a=t.hasImage,s=t.title,c=t.tags,i=t.status,r=t.feedId,l=t.date,d=t.userName,o=t.userImage,j="feed__recentItem ";j+=a&&a.length>0?"has_image ":"",j+=null!=i?"".concat(i," "):"";var u=f(new Date(1e3*l.seconds));return Object(n.jsxs)(y.b,{to:{pathname:"/admin/feed/".concat(r),state:e.feed},className:j,children:[Object(n.jsxs)("div",{className:"feed__recentItem__details",children:[Object(n.jsx)("div",{className:"feed__recentItem__details__title",children:s}),Object(n.jsxs)("div",{className:"feed__recentItem__details__level",children:[Object(n.jsx)("div",{className:"feed__recentItem__details__id",children:"#".concat(r)}),Object(n.jsx)("div",{className:"feed__recentItem__details__status",children:Object(n.jsx)("div",{style:{width:{solved:"100%",opened:"50%",unsolved:"30%",partial:"75%",rejected:"100%"}[i]},className:"feed__recentItem__details__status__progress",children:Object(n.jsx)("span",{children:null===i||void 0===i?void 0:i.toUpperCase()})})})]}),Object(n.jsxs)("div",{className:"feed__recentItem__details__profile",children:[Object(n.jsx)("img",{src:"Anonymous"===d?D:o,alt:"Profile"}),Object(n.jsx)("span",{children:d})]}),Object(n.jsxs)("div",{className:"feed__recentItem__details__more",children:[Object(n.jsx)("div",{className:"feed__recentItem__details__tags",children:c&&c.sort().map((function(e,t){return Object(n.jsx)("div",{className:"feed__recentItem__details__more__tag",children:e.toUpperCase()},t)}))}),Object(n.jsx)("div",{className:"feed__recentItem__details__time",children:Object(n.jsx)("span",{children:u})})]})]}),a&&a.length>0?Object(n.jsx)("div",{className:"feed__recentItem__image",children:Object(n.jsx)("img",{src:"/uploads/".concat(a[0]),alt:"Feed"})}):""]})},L=function(e){var t=e.isLoading,a=e.onFeedItemClick,c=e.feeds,i=Object(s.useState)("all"),r=Object(d.a)(i,2),l=r[0],o=r[1];if(null==t)return Object(n.jsx)("div",{className:"feed__container",children:"Error!"});if(t)return Object(n.jsx)(_,{});var j={all:c,solved:c.filter((function(e){return"solved"===e.status})),unsolved:c.filter((function(e){return"unsolved"===e.status})),partial:c.filter((function(e){return"partial"===e.status})),rejected:c.filter((function(e){return"rejected"===e.status}))};return c=j[l],Object(n.jsxs)("div",{className:"feed__container",children:[Object(n.jsxs)("div",{className:"feed__recentfeeds",children:[Object(n.jsx)("h3",{children:"Recent Feeds"}),Object(n.jsxs)("div",{className:"feed__recentList",children:[c.map((function(e,t){return Object(n.jsx)(k,{onFeedItemClick:a,feed:e},t)})),0===c.length?Object(n.jsxs)("div",{className:"noData__container inside",children:[Object(n.jsx)("img",{src:S,alt:"No Data Found"}),Object(n.jsx)("h2",{children:"No Feeds Found"})]}):null]})]}),Object(n.jsxs)("div",{className:"feed__feedsfilter",children:[Object(n.jsx)("h3",{children:"Filter"}),Object(n.jsx)("div",{className:"feed__feedsWrapper",children:Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:[Object(n.jsx)("input",{type:"radio",defaultChecked:"true",onChange:function(){return o("all")},id:"all-queries",name:"filter"}),Object(n.jsx)("label",{htmlFor:"all-queries",children:"All"}),Object(n.jsx)("span",{className:"feed__filter__badge",children:j.all.length})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("input",{type:"radio",onChange:function(){return o("solved")},id:"solved",name:"filter"}),Object(n.jsx)("label",{htmlFor:"solved",children:"Solved"}),Object(n.jsx)("span",{className:"feed__filter__badge",children:j.solved.length})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("input",{type:"radio",onChange:function(){return o("partial")},id:"partial",name:"filter"}),Object(n.jsx)("label",{htmlFor:"partial",children:"Partial"}),Object(n.jsx)("span",{className:"feed__filter__badge",children:j.partial.length})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("input",{type:"radio",onChange:function(){return o("unsolved")},id:"unsolved",name:"filter"}),Object(n.jsx)("label",{htmlFor:"unsolved",children:"Unsolved"}),Object(n.jsx)("span",{className:"feed__filter__badge",children:j.unsolved.length})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("input",{type:"radio",onChange:function(){return o("rejected")},id:"rejected",name:"filter"}),Object(n.jsx)("label",{htmlFor:"rejected",children:"Rejected"}),Object(n.jsx)("span",{className:"feed__filter__badge",children:j.rejected.length})]})]})})]})]})},P=(a(29),function(e){var t=e.history,a=e.user,i=Object(s.useState)(!0),r=Object(d.a)(i,2),o=r[0],u=r[1],h=Object(s.useState)([]),f=Object(d.a)(h,2),m=f[0],O=f[1];Object(s.useEffect)((function(){j.a.auth().onAuthStateChanged((function(e){null!=e&&(b(e)?j.a.firestore().collection("Feeds").get().then((function(e){var t=[];e.forEach((function(e){t.unshift(Object(l.a)({feedId:e.id},e.data()))})),O(t),u(!1)})).catch((function(e){alert(e),u(null)})):j.a.firestore().collection("Settings").where("users","array-contains",e.email).get().then((function(e){var t=[];(e.forEach((function(e){var a;t.push(null===(a=e.data().name)||void 0===a?void 0:a.toLowerCase())})),0===t.length)?u(!1):j.a.firestore().collection("Feeds").where("tags","array-contains-any",t).get().then((function(e){var t=[];e.forEach((function(e){t.unshift(Object(l.a)({feedId:e.id},e.data()))})),O(t),u(!1)})).catch((function(e){alert(e),u(null)}))})))}))}),[]);return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(w,{isAdmin:!0,user:a}),Object(n.jsx)(L,{feeds:m,onFeedItemClick:function(e){e&&t.push("admin/feed/".concat(e))},isLoading:o})]})}),U=(a(33),a(11)),R=function(e){var t=e.feedId,a=e.currentUser,i=e.isAnonymous,r=Object(s.useState)([]),o=Object(d.a)(r,2),u=o[0],h=o[1],O=Object(s.useState)(""),x=Object(d.a)(O,2),p=x[0],g=x[1],v=Object(s.useState)(!0),N=Object(d.a)(v,2),I=N[0],y=N[1],A=!a.email.replace("@bitsathy.ac.in","").includes(".")||b(a);Object(s.useEffect)((function(){var e=j.a.firestore().collection("Feeds").doc(t).collection("Comments");e.get().then((function(e){var t=[];e.forEach((function(e){t.unshift(Object(l.a)({commentId:e.id},e.data()))})),h(t),y(!1)})).catch((function(e){alert("Error in Loading Comments")}));var a=e.onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var t=Object(l.a)({commentId:e.doc.id},e.doc.data({serverTimestamps:"estimate"}));h((function(e){return[t].concat(Object(U.a)(e))}))}else if("removed"===e.type){var a={commentId:e.doc.id};h((function(e){return e.filter((function(e){return e.commentId!==a.commentId}))}))}}))}));return function(){a()}}),[t]);var C=function(){var e=p.trim();""!==e&&null!=a?(g(""),j.a.firestore().collection("Feeds").doc(t).collection("Comments").add({date:j.a.firestore.FieldValue.serverTimestamp(),userName:A?a.displayName:i?"Anonymous":a.displayName,userImage:A?a.photoURL:i?m:a.photoURL,userId:a.uid,message:e}).then((function(e){document.getElementById("feedDetails__comment__view").scrollIntoView({behavior:"smooth"})})).catch((function(e){alert("Error in Posting the Comment!")}))):alert("Don't Leave it Empty!")};return I?Object(n.jsx)("div",{className:"feed__comments__loading",children:Object(n.jsx)(_,{})}):Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsxs)("div",{id:"feedDetails__comment__view",className:"feedDetails__comment__input",children:[Object(n.jsx)("div",{className:"feedDetails__comment__image",children:Object(n.jsx)("img",{src:a.photoURL,alt:"Profile"})}),Object(n.jsx)("div",{className:"feedDetails__comment__textarea",children:Object(n.jsx)("textarea",{value:p,onChange:function(e){return g(e.target.value)},onKeyDown:function(e){(e.ctrlKey||e.metaKey)&&"Enter"===e.key&&C()}})}),Object(n.jsxs)("div",{className:"feedDetails__comment__button",children:[Object(n.jsx)("div",{onClick:C,className:"button",children:"Post"}),Object(n.jsx)("span",{children:"(Ctrl + Enter)"})]})]}),u.sort((function(e,t){var a,n;return(null===(a=t.date)||void 0===a?void 0:a.seconds)-(null===(n=e.date)||void 0===n?void 0:n.seconds)})).map((function(e,s){var c;return Object(n.jsxs)("div",{className:"feedDetails__comment__container",children:[Object(n.jsx)("div",{className:"feedDetails__comment__image",children:Object(n.jsx)("img",{src:e.userImage,alt:"Profile"})}),Object(n.jsxs)("div",{className:"feedDetails__comment__details",children:[Object(n.jsxs)("div",{className:"feedDetails__comment__details__name",children:[e.userName,Object(n.jsx)("span",{children:f(new Date(1e3*(null===(c=e.date)||void 0===c?void 0:c.seconds)))})]}),Object(n.jsx)("div",{className:"feedDetails__comment__details__info",children:e.message})]}),e.userId===a.uid?Object(n.jsx)("div",{onClick:function(){return a=e.commentId,void(window.confirm("Are you sure want to delete the comment?")&&j.a.firestore().collection("Feeds").doc(t).collection("Comments").doc(a).delete().then((function(e){})).catch((function(e){alert("Error in Deleting the Comment!")})));var a},className:"feedDetails__comment__delete",children:Object(n.jsx)("i",{className:"fa fa-trash"})}):null]},s)}))]})},T=function(e){var t,a=e.feed,c=e.currentUser,i=e.isLoading,r=e.onBackButton,l=e.onStatusChange,o=Object(s.useState)("partial"),j=Object(d.a)(o,2),u=j[0],b=j[1],h=a;if(i||!h)return Object(n.jsx)(_,{});var m=f(new Date(1e3*h.date.seconds));return Object(n.jsxs)("div",{className:"feedDetails__container",children:[Object(n.jsxs)("div",{className:"feedDetails__info",children:[Object(n.jsxs)("div",{className:"feedDetails__header",children:[Object(n.jsx)("i",{onClick:r,className:"fa fa-arrow-left","aria-hidden":"true"}),Object(n.jsx)("h3",{children:"Feed Details"})]}),Object(n.jsx)("div",{className:"feedDetails__detailsWrapper__header",children:Object(n.jsxs)("div",{className:"feedDetails__detailsWrapper__header__item",children:["#",h.feedId]})}),Object(n.jsxs)("div",{className:"feedDetails__detailsWrapper",children:[Object(n.jsx)("div",{className:"feedDetails__details__title",children:h.title}),Object(n.jsxs)("div",{className:"feedDetails__details__profile__item",children:[Object(n.jsx)("img",{src:"Anonymous"===h.userName?D:h.userImage,alt:"".concat(h.userName," Profile")}),"Anonymous"===h.userName?Object(n.jsx)("span",{children:h.userName}):Object(n.jsx)(y.b,{to:"/admin/profile/".concat(h.userId),children:h.userName})]}),Object(n.jsxs)("div",{className:"feedDetails__details__more",children:[Object(n.jsx)("div",{className:"feedDetails__details__tags",children:h.tags&&h.tags.map((function(e,t){return Object(n.jsx)("div",{className:"feedDetails__details__tag",children:e.toUpperCase()},t)}))}),Object(n.jsx)("div",{className:"feedDetails__details__date",children:Object(n.jsx)("span",{children:m})})]}),Object(n.jsx)("div",{className:"feedDetails__details__desc",children:h.desc.split("\n").map((function(e,t){return Object(n.jsx)("p",{children:e},t)}))}),h.hasImage&&h.hasImage.length>0?Object(n.jsx)("div",{className:"feedDetails__details__image",children:h.hasImage.map((function(e,t){return Object(n.jsx)("img",{src:"/uploads/".concat(e),alt:"".concat(h.title," Reference")},t)}))}):null]}),Object(n.jsxs)("div",{className:"feedDetails__commentsWrapper",children:[Object(n.jsx)("div",{className:"feedDetails__comments__title",children:"Discussion"}),Object(n.jsx)(R,{isAnonymous:"Anonymous"===h.userName,currentUser:c,feedId:h.feedId})]})]}),Object(n.jsxs)("div",{className:"feedDetails__confirmStatus",children:[Object(n.jsx)("h3",{children:"Status"}),Object(n.jsxs)("div",{className:"feedDetails__Wrapper",children:[Object(n.jsx)("div",{className:"feedDetails__progress",children:Object(n.jsx)("div",{style:{animationName:h.status},children:null===(t=h.status)||void 0===t?void 0:t.toUpperCase()})}),Object(n.jsxs)("div",{className:"feedDetails__changeStatus",children:[Object(n.jsxs)("select",{defaultValue:h.status,onChange:function(e){var t=e.target;return b(t.value)},children:[Object(n.jsx)("option",{value:"partial",children:"Partial"}),Object(n.jsx)("option",{value:"solved",children:"Solved"}),Object(n.jsx)("option",{value:"rejected",children:"Rejected"}),Object(n.jsx)("option",{value:"unsolved",children:"Unsolved"}),Object(n.jsx)("option",{value:"opened",children:"Opened"})]}),Object(n.jsx)("div",{children:Object(n.jsx)("span",{onClick:function(){return l(h.feedId,u)},className:"button",children:"Confirm"})})]})]})]})]})},B=function(e){var t=e.history,a=e.match,i=e.user,r=Object(s.useState)(!0),o=Object(d.a)(r,2),u=o[0],b=o[1],h=Object(s.useState)({}),f=Object(d.a)(h,2),m=f[0],O=f[1],_=Object(s.useState)({}),x=Object(d.a)(_,2),p=x[0],g=x[1],v=a.params.id;Object(s.useEffect)((function(){j.a.auth().onAuthStateChanged((function(e){null!=e&&(j.a.firestore().collection("Feeds").doc(v).get().then((function(e){e.exists?(O(Object(l.a)({feedId:e.id},e.data())),b(!1)):window.location.href="/feeds"})).catch((function(e){alert("Error in Getting Data!"),b(!1)})),g(e))}))}),[v]);return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(w,{isAdmin:!0,user:i}),Object(n.jsx)(T,{onBackButton:function(){t.goBack()},feed:m,currentUser:p,onStatusChange:function(e,a){b(!0);var n=j.a.firestore().collection("Feeds").doc(e);n.collection("History").add({status:a,adminName:p.displayName,timestamp:j.a.firestore.FieldValue.serverTimestamp()}),n.update({status:a}).then((function(e){"solved"===a||"rejected"===a?t.replace("/feeds"):(O((function(e){return Object(l.a)(Object(l.a)({},e),{},{status:a})})),b(!1))})).catch((function(e){alert("Error in Updating the Status!"),b(!1)}))},isLoading:u})]})},G=(a(34),function(e){return e.isLoading?Object(n.jsx)(_,{}):Object(n.jsx)("div",{className:"help__container",children:Object(n.jsxs)("div",{className:"help__container__wrapper",children:[Object(n.jsx)("div",{className:"help__container__title",children:Object(n.jsx)("h2",{children:"Frequently Asked Questions (FAQs)"})}),Object(n.jsx)("section",{className:"help__container__questions__list",children:[{question:"What is a feed?",answer:"A feed is Query / Suggestion / Feedback with the maximum of two department tags to solve the issue / address the query and keep track of it.   "},{question:"Is there any stages for the feed?",answer:"There are five different stages namely,\n'Unsolved' - Once the Feed is Posted\n'Opened' - Once the respective department has seen the feed\n'Partial' - Once the issue / query is started being processed\n'Solved' - If the issue / query is solved\n'Rejected' - If a feed contains inappropriate information and not subjected to the guidelines"},{question:"I find the duplicate queries",answer:"If you find the duplicate queries, kindly reject with a comment!"},{question:"Why I can't see other department's feeds?",answer:"That is because the admin must have not given you the rights! Contact the support team!"}].map((function(e,t){return Object(n.jsxs)("div",{className:"help__question",children:[Object(n.jsx)("div",{className:"help__question__title",children:e.question}),Object(n.jsx)("div",{className:"help__question__answer",children:e.answer.split("\n").map((function(e,t){return Object(n.jsx)("p",{children:e},t)}))})]},t)}))})]})})}),M=function(e){var t=e.user,a=Object(s.useState)(!0),i=Object(d.a)(a,2),r=i[0],l=i[1];return Object(s.useEffect)((function(){l(!1)}),[]),Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(w,{isAdmin:!0,user:t}),Object(n.jsx)(G,{isLoading:r})]})},H=(a(65),function(e){var t=e.role,a=e.index,c=e.isLoading,i=e.onRoleDelete,r=e.onRoleSave,l=Object(s.useState)(!1),o=Object(d.a)(l,2),j=o[0],u=o[1],b=Object(s.useState)(t.users),h=Object(d.a)(b,2),f=h[0],m=h[1],O=Object(s.useState)(t.name),x=Object(d.a)(O,2),p=x[0],g=x[1],v=t.roleId;return c.includes(a)?Object(n.jsx)("div",{className:"adminManageUsers__loader",children:Object(n.jsx)(_,{})}):Object(n.jsxs)("div",{className:"adminManageUsers__usersList__item",children:[Object(n.jsxs)("div",{className:"adminManageUsers__usersList__item__role",children:[Object(n.jsx)("div",{children:Object(n.jsx)("h5",{children:"Tag Name"})}),Object(n.jsx)("input",{onChange:function(e){var t=e.target.value.trim();t!==p&&(g(t),u(!0))},type:"text",placeholder:"Eg. Transport",value:p}),Object(n.jsxs)("div",{className:"role__buttons",children:[Object(n.jsx)("div",{className:"button green"+(j?"":" disabled"),onClick:function(){""===p?alert("Enter a Name!"):0===f.length?alert("Add at least one user!"):f.length>3?alert("Only Maximum of 3 users are allowed!"):j&&r(v,{name:p,users:f},a)},children:"Save"}),Object(n.jsx)("div",{className:"button",onClick:function(){return i(v,a)},children:"Delete"})]})]}),Object(n.jsxs)("div",{className:"adminManageUsers__usersList__item__emails",children:[Object(n.jsx)("div",{children:Object(n.jsx)("h5",{children:"Users (Max. of 3)"})}),f.map((function(e,t){return Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{className:e.endsWith("@bitsathy.ac.in")?"ok":"notok",onChange:function(e){var a=e.target.value,n=Object(U.a)(f);n[t]=a.trim().toLowerCase(),m(n),u(!0)},type:"email",placeholder:"someone@bitsathy.ac.in",value:e,disabled:e.endsWith("@bitsathy.ac.in")}),Object(n.jsx)("i",{onClick:function(){return function(e){m((function(t){return t.filter((function(t,a){return e!==a}))})),u(!0)}(t)},className:"fa fa-trash"})]},t)})),f.length<3?Object(n.jsx)("div",{className:"button",onClick:function(){f.length<3&&(m((function(e){return[].concat(Object(U.a)(e),[""])})),u(!0))},children:"Add Member"}):null]})]})}),W=function(e){var t=Object(s.useState)([]),a=Object(d.a)(t,2),c=a[0],i=a[1],r=Object(s.useState)([-1]),o=Object(d.a)(r,2),u=o[0],b=o[1];Object(s.useEffect)((function(){j.a.firestore().collection("Settings").get().then((function(e){var t=e.docs;b((function(e){return e.filter((function(e){return-1!==e}))}));var a=t.map((function(e){return e.data()}));i(a)})).catch((function(e){b((function(e){return e.filter((function(e){return-1!==e}))}))}))}),[]);var h=function(e,t,a){if(b((function(e){return[a].concat(Object(U.a)(e))})),-1===e){var n=j.a.firestore().collection("Settings").doc(),s=n.id;n.set(Object(l.a)({roleId:s},t)).then((function(e){var n=Object(U.a)(c);n.pop(),n.push(Object(l.a)({roleId:s},t)),i(n),b((function(e){return e.filter((function(e){return e!==a}))}))})).catch((function(e){alert("Error in Saving Role!"),b((function(e){return e.filter((function(e){return e!==a}))}))}))}else{j.a.firestore().collection("Settings").doc(e).update(Object(l.a)({roleId:e},t)).then((function(n){var s=Object(U.a)(c),r=s.findIndex((function(t){return t.roleId===e}));s[r]=Object(l.a)({roleId:e},t),i(s),alert("Updated Successfully!"),b((function(e){return e.filter((function(e){return e!==a}))}))})).catch((function(e){alert("Error in Saving Role!"),b((function(e){return e.filter((function(e){return e!==a}))}))}))}},f=function(e,t){b((function(e){return[t].concat(Object(U.a)(e))}));var a=window.confirm("Are you sure want to delete this role?");if(-1===e&&a)b((function(e){return e.filter((function(e){return e!==t}))})),i((function(e){return e.filter((function(e,a){return a!==t}))}));else if(a){j.a.firestore().collection("Settings").doc(e).delete().then((function(a){var n=c.filter((function(t){return t.roleId!==e}));b((function(e){return e.filter((function(e){return e!==t}))})),i(n)})).catch((function(e){alert("Error in Deleting Role!"),b((function(e){return e.filter((function(e){return e!==t}))}))}))}else b((function(e){return e.filter((function(e){return e!==t}))}))};return u.includes(-1)?Object(n.jsx)(_,{}):Object(n.jsxs)("div",{className:"adminManageUsers__container",children:[Object(n.jsx)("h3",{children:"Manage Users"}),Object(n.jsxs)("div",{className:"adminManageUsers__usersList",children:[c.map((function(e,t){return Object(n.jsx)(H,{index:t,role:e,isLoading:u,onRoleSave:h,onRoleDelete:f},e.roleId)})),c.some((function(e){return-1===e.roleId}))?null:Object(n.jsx)("div",{className:"button",onClick:function(){var e=Object(U.a)(c);e.push({roleId:-1,name:"",users:[]}),i(e)},children:"Add New Role"})]})]})},q=function(e){var t=e.user;return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(w,{isAdmin:!0,user:t}),Object(n.jsx)(W,{})]})},Y=(a(35),a(47)),V=a.n(Y),Q=function(e){var t=e.files,a=e.setFiles,s=e.sources,i=e.setSources;return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsxs)("div",{className:"feed__file__chosen__container",children:[s.map((function(e,c){return Object(n.jsxs)("div",{className:"feed__file__chosen",children:[Object(n.jsx)("img",{src:e,alt:""}),Object(n.jsx)("i",{onClick:function(){return function(e){var n=t.filter((function(t,a){return a!==e})),c=s.filter((function(t,a){return a!==e}));a(n),i(c)}(c)},className:"fa fa-trash remove"})]},c)})),Object(n.jsx)("div",{className:"feed__file__upload__button",onClick:function(){document.getElementById("feed_image").click()},children:Object(n.jsx)("i",{className:"fa fa-plus-circle"})})]}),Object(n.jsx)("input",{className:"feed__file__upload",onChange:function(e){var t=Array.from(e.target.files);t.every((function(e){return e.size<2097152}))?(a((function(e){return[].concat(Object(U.a)(e),Object(U.a)(t))})),Promise.all(t.map((function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.addEventListener("load",(function(e){t(e.target.result)})),n.addEventListener("error",a)}))}))).then((function(e){i((function(t){return[].concat(Object(U.a)(t),Object(U.a)(e))}))}),(function(e){console.error(e)}))):alert("Each Image must be less than 2 MB!")},type:"file",accept:".jpg,.png",name:"feed_image",id:"feed_image",multiple:!0})]})},X=function(e){var t=e.tags,a=e.onBackButton,c=e.onAddNewFeed,i=e.isLoading,r=Object(s.useState)([]),o=Object(d.a)(r,2),j=o[0],u=o[1],b=Object(s.useState)([]),h=Object(d.a)(b,2),f=h[0],m=h[1],O=Object(s.useState)(!1),x=Object(d.a)(O,2),p=x[0],g=x[1],v=Object(s.useState)({title:"",desc:"",agree:!1,anonymous:!1}),N=Object(d.a)(v,2),I=N[0],y=N[1],A=Object(s.useState)([]),C=Object(d.a)(A,2),E=C[0],F=C[1];return p||i?Object(n.jsx)(_,{}):Object(n.jsxs)("div",{className:"addNewFeed__container",children:[Object(n.jsxs)("div",{className:"addNewFeed__info",children:[Object(n.jsxs)("div",{className:"addNewFeed__header",children:[Object(n.jsx)("i",{onClick:a,className:"fa fa-arrow-left","aria-hidden":"true"}),Object(n.jsx)("h3",{children:"New Feed"})]}),Object(n.jsx)("div",{className:"addNewFeed__Wrapper",children:Object(n.jsxs)("form",{className:"addNewFeed__wrapper__form",children:[Object(n.jsxs)("div",{className:"addNewFeed__form__item",children:[Object(n.jsx)("label",{htmlFor:"addNewFeed_title",children:"Title"}),Object(n.jsx)("span",{children:"Be precise to the issue"}),Object(n.jsx)("textarea",{value:I.title,onChange:function(e){y((function(t){return Object(l.a)(Object(l.a)({},t),{},{title:e.target.value})}))},id:"addNewFeed_title"})]}),Object(n.jsxs)("div",{className:"addNewFeed__form__item addNewFeed__form__desc",children:[Object(n.jsx)("label",{htmlFor:"addNewFeed_desc",children:"Description"}),Object(n.jsx)("span",{children:"Explain briefly about the issue"}),Object(n.jsx)("textarea",{value:I.desc,onChange:function(e){y((function(t){return Object(l.a)(Object(l.a)({},t),{},{desc:e.target.value})}))},id:"addNewFeed_desc"})]}),Object(n.jsxs)("div",{className:"addNewFeed__form__item addNewFeed__form__tag",children:[Object(n.jsx)("label",{children:"Tag Department"}),Object(n.jsx)("span",{children:"Tag max. of 2 departments"}),Object(n.jsx)("div",{className:"addNewFeed__form__option",children:t.map((function(e){return Object(n.jsxs)("div",{className:"addNewFeed__form__option__item",children:[Object(n.jsx)("input",{onChange:function(t){F((function(a){var n=a;return t.target.checked?(n.push(e.toLowerCase()),n):n.filter((function(t){return t!==e.toLowerCase()}))}))},type:"checkbox",id:e.toLowerCase(),name:"addNewFeed_tag"}),Object(n.jsx)("label",{htmlFor:e.toLowerCase(),children:e.toUpperCase()})]},e)}))})]}),Object(n.jsxs)("div",{className:"addNewFeed__form__item addNewFeed__upload__images",children:[Object(n.jsx)("label",{children:"Related Images"}),Object(n.jsx)("span",{children:"Max. of 3 images (Only .jpg and .png files)"}),Object(n.jsx)(Q,{sources:f,files:j,setFiles:u,setSources:m})]})]})})]}),Object(n.jsxs)("div",{className:"addNewFeed__confirmPost",children:[Object(n.jsx)("h3",{children:"Confirm Details"}),Object(n.jsxs)("div",{className:"addNewFeed__PostWrapper",children:[Object(n.jsxs)("div",{className:"addNewFeed__confirm__item",children:[Object(n.jsx)("input",{type:"checkbox",name:"addNewFeed_confirm",onClick:function(e){y((function(t){return Object(l.a)(Object(l.a)({},t),{},{anonymous:e.target.checked})}))},id:"addNewFeed__privacy"}),Object(n.jsx)("label",{htmlFor:"addNewFeed__privacy",children:"Make this feed as Anonymous"})]}),Object(n.jsxs)("div",{className:"addNewFeed__confirm__item",children:[Object(n.jsx)("input",{type:"checkbox",name:"addNewFeed_confirm",onClick:function(e){y((function(t){return Object(l.a)(Object(l.a)({},t),{},{agree:e.target.checked})}))},id:"addNewFeed__terms"}),Object(n.jsx)("label",{htmlFor:"addNewFeed__terms",children:"I hereby declare that the above mentioned information is correct to the best of my knowledge and I bear the responsibility for the correctness of the above mentioned particulars."})]}),Object(n.jsxs)("div",{className:"addNewFeed__confirm__button",children:[Object(n.jsx)("span",{onClick:function(){if(I.title.trim())if(I.desc.trim())if(0!==E.length)if(E.length>3)alert("Choose only max of 3 departments!");else if(j.length>3)alert("Only Maximum of 3 files are allowed");else if(I.agree)if(j.length>0){g(!0);for(var e=new FormData,t=0,a=Object.keys(j);t<a.length;t++){var n=a[t];e.append("feed_image",j[n])}V.a.post("/api/upload",e).then((function(e){if(201===e.status){var t=[];e.data.forEach((function(e){t.push(e.filename)}));var a=Object(l.a)(Object(l.a)({},I),{},{tags:E,hasImage:t});c(a)}else alert(e.data)})).catch((function(e){alert("Client Error: Error in Uploading Images!")}))}else{var s=Object(l.a)(Object(l.a)({},I),{},{tags:E,hasImage:[]});c(s)}else alert("Oops! You didn't agree to terms!");else alert("Choose at least 1 department!");else alert("Enter a valid description!");else alert("Enter a valid title!")},className:"button",children:"Post"}),Object(n.jsx)("span",{onClick:a,className:"button",children:"Cancel"})]})]})]})]})},K=function(e){var t=e.history,a=e.isAdmin,i=Object(s.useState)(!0),r=Object(d.a)(i,2),l=r[0],o=r[1],u=Object(s.useState)(),b=Object(d.a)(u,2),h=b[0],f=b[1],O=Object(s.useState)([]),_=Object(d.a)(O,2),x=_[0],p=_[1];Object(s.useEffect)((function(){j.a.auth().onAuthStateChanged((function(e){null!=e&&(j.a.firestore().collection("Settings").get().then((function(e){var t=[];e.forEach((function(e){t.push(e.data().name)})),p(t),o(!1)})).catch((function(e){alert("Something Went Wrong!")})),f(e))}))}),[]);return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(w,{isLoading:l,isAdmin:a}),Object(n.jsx)(X,{onBackButton:function(){t.replace("/feeds")},isLoading:l,tags:x,onAddNewFeed:function(e){if(o(!0),null!=h){var a=j.a.firestore().collection("Feeds"),n=Date.now().toString();a.doc(n).set({title:e.title,desc:e.desc,tags:e.tags,hasImage:e.hasImage,status:"unsolved",date:j.a.firestore.FieldValue.serverTimestamp(),userName:e.anonymous?"Anonymous":h.displayName,userImage:e.anonymous?m:h.photoURL,userId:h.uid}).then((function(e){t.replace("/feeds")})).catch((function(e){alert("Error in Posting the Feed!\nTry again after sometimes!"),o(!1)}))}else o(!1)}})]})},z=function(e){var t=e.feed,a=t.hasImage,s=t.title,c=t.tags,i=t.status,r=t.feedId,l=t.date,d=t.userName,o=t.userImage,j="feed__recentItem ";j+=a&&a.length>0?"has_image ":"",j+=null!=i?"".concat(i," "):"";var u=f(new Date(1e3*l.seconds));return Object(n.jsxs)(y.b,{to:{pathname:"/feed/".concat(r),state:e.feed},className:j,children:[Object(n.jsxs)("div",{className:"feed__recentItem__details",children:[Object(n.jsx)("div",{className:"feed__recentItem__details__title",children:s}),Object(n.jsxs)("div",{className:"feed__recentItem__details__level",children:[Object(n.jsx)("div",{className:"feed__recentItem__details__id",children:"#".concat(r)}),Object(n.jsx)("div",{className:"feed__recentItem__details__status",children:Object(n.jsx)("div",{style:{width:{solved:"100%",opened:"50%",unsolved:"30%",partial:"75%",rejected:"100%"}[i]},className:"feed__recentItem__details__status__progress",children:Object(n.jsx)("span",{children:null===i||void 0===i?void 0:i.toUpperCase()})})})]}),Object(n.jsxs)("div",{className:"feed__recentItem__details__profile",children:[Object(n.jsx)("img",{src:"Anonymous"===d?D:o,alt:"Profile"}),Object(n.jsx)("span",{children:d})]}),Object(n.jsxs)("div",{className:"feed__recentItem__details__more",children:[Object(n.jsx)("div",{className:"feed__recentItem__details__tags",children:c&&c.sort().map((function(e,t){return Object(n.jsx)("div",{className:"feed__recentItem__details__more__tag",children:e.toUpperCase()},t)}))}),Object(n.jsx)("div",{className:"feed__recentItem__details__time",children:Object(n.jsx)("span",{children:u})})]})]}),a&&a.length>0?Object(n.jsx)("div",{className:"feed__recentItem__image",children:Object(n.jsx)("img",{src:"/uploads/".concat(a[0]),alt:"Feed"})}):""]})},J=function(e){var t=e.isLoading,a=e.onFeedItemClick,c=e.feeds,i=Object(s.useState)("all"),r=Object(d.a)(i,2),l=r[0],o=r[1];if(null==t)return Object(n.jsx)("div",{className:"feed__container",children:"Error!"});if(t)return Object(n.jsx)(_,{});var j={all:c,solved:c.filter((function(e){return"solved"===e.status})),unsolved:c.filter((function(e){return"unsolved"===e.status})),partial:c.filter((function(e){return"partial"===e.status})),rejected:c.filter((function(e){return"rejected"===e.status}))};return c=j[l],Object(n.jsxs)("div",{className:"feed__container",children:[Object(n.jsxs)("div",{className:"feed__recentfeeds",children:[Object(n.jsxs)("div",{className:"feed__recentHeader",children:[Object(n.jsx)("h3",{children:"My Feeds"}),Object(n.jsxs)(y.b,{to:"/feed/new",className:"feed-button",children:[" ",Object(n.jsx)("i",{className:"fa fa-plus"})," New Feed"]})]}),Object(n.jsxs)("div",{className:"feed__recentList",children:[c.map((function(e,t){return Object(n.jsx)(z,{onFeedItemClick:a,feed:e},t)})),0===c.length?Object(n.jsx)("div",{className:"noData__container inside",children:Object(n.jsxs)("div",{className:"noData__wrapper",children:[Object(n.jsx)("img",{src:S,alt:"No Data Found"}),Object(n.jsx)("h2",{children:"No Feeds Found"}),Object(n.jsx)("span",{children:"Start a New Feed by tapping on 'New Feed' button!"})]})}):null]})]}),Object(n.jsxs)("div",{className:"feed__feedsfilter",children:[Object(n.jsx)("h3",{children:"Filter"}),Object(n.jsx)("div",{className:"feed__feedsWrapper",children:Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:[Object(n.jsx)("input",{type:"radio",defaultChecked:"true",onChange:function(){return o("all")},id:"all-queries",name:"filter"}),Object(n.jsx)("label",{htmlFor:"all-queries",children:"All"}),Object(n.jsx)("span",{className:"feed__filter__badge",children:j.all.length})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("input",{type:"radio",onChange:function(){return o("solved")},id:"solved",name:"filter"}),Object(n.jsx)("label",{htmlFor:"solved",children:"Solved"}),Object(n.jsx)("span",{className:"feed__filter__badge",children:j.solved.length})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("input",{type:"radio",onChange:function(){return o("partial")},id:"partial",name:"filter"}),Object(n.jsx)("label",{htmlFor:"partial",children:"Partial"}),Object(n.jsx)("span",{className:"feed__filter__badge",children:j.partial.length})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("input",{type:"radio",onChange:function(){return o("unsolved")},id:"unsolved",name:"filter"}),Object(n.jsx)("label",{htmlFor:"unsolved",children:"Unsolved"}),Object(n.jsx)("span",{className:"feed__filter__badge",children:j.unsolved.length})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("input",{type:"radio",onChange:function(){return o("rejected")},id:"rejected",name:"filter"}),Object(n.jsx)("label",{htmlFor:"rejected",children:"Rejected"}),Object(n.jsx)("span",{className:"feed__filter__badge",children:j.rejected.length})]})]})})]})]})},Z=function(e){var t=e.history,a=Object(s.useState)(!0),i=Object(d.a)(a,2),r=i[0],o=i[1],u=Object(s.useState)([]),b=Object(d.a)(u,2),h=b[0],f=b[1];Object(s.useEffect)((function(){j.a.auth().onAuthStateChanged((function(e){null!=e&&j.a.firestore().collection("Feeds").where("userId","==",e.uid).get().then((function(e){var t=[];e.forEach((function(e){t.unshift(Object(l.a)({feedId:e.id},e.data()))})),f(t),o(!1)})).catch((function(e){o(null)}))}))}),[]);return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(w,{}),Object(n.jsx)(J,{feeds:h,onFeedItemClick:function(e){e&&t.push("/feed/".concat(e))},isLoading:r})]})},$=function(e){var t=e.feed,a=e.currentUser,c=e.isLoading,i=e.onBackButton,r=(e.onStatusChange,t),l=Object(s.useState)([]),o=Object(d.a)(l,2),u=o[0],b=o[1],h=Object(s.useState)(!0),m=Object(d.a)(h,2),O=m[0],x=m[1];if(Object(s.useEffect)((function(){r.feedId&&j.a.firestore().collection("Feeds").doc(r.feedId).collection("History").orderBy("timestamp","desc").get().then((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),b(t),x(!1)})).catch((function(e){x(!1)}))}),[r]),c||!r)return Object(n.jsx)(_,{});var p=f(new Date(1e3*r.date.seconds));return Object(n.jsxs)("div",{className:"feedDetails__container",children:[Object(n.jsxs)("div",{className:"feedDetails__info",children:[Object(n.jsxs)("div",{className:"feedDetails__header",children:[Object(n.jsx)("i",{onClick:i,className:"fa fa-arrow-left","aria-hidden":"true"}),Object(n.jsx)("h3",{children:"Feed Details"})]}),Object(n.jsx)("div",{className:"feedDetails__detailsWrapper__header",children:Object(n.jsxs)("div",{className:"feedDetails__detailsWrapper__header__item",children:["#",r.feedId]})}),Object(n.jsxs)("div",{className:"feedDetails__detailsWrapper",children:[Object(n.jsx)("div",{className:"feedDetails__details__title",children:r.title}),Object(n.jsxs)("div",{className:"feedDetails__details__profile__item",children:[Object(n.jsx)("img",{src:"Anonymous"===r.userName?D:r.userImage,alt:"".concat(r.userName," Profile")}),Object(n.jsx)("span",{children:r.userName})]}),Object(n.jsxs)("div",{className:"feedDetails__details__more",children:[Object(n.jsx)("div",{className:"feedDetails__details__tags",children:r.tags&&r.tags.map((function(e,t){return Object(n.jsx)("div",{className:"feedDetails__details__tag",children:e.toUpperCase()},t)}))}),Object(n.jsx)("div",{className:"feedDetails__details__date",children:Object(n.jsx)("span",{children:p})})]}),Object(n.jsx)("div",{className:"feedDetails__details__desc",children:r.desc.split("\n").map((function(e,t){return Object(n.jsx)("p",{children:e},t)}))}),r.hasImage&&r.hasImage.length>0?Object(n.jsx)("div",{className:"feedDetails__details__image",children:r.hasImage.map((function(e,t){return Object(n.jsx)("img",{src:"/uploads/".concat(e),alt:"".concat(r.title," Reference")},t)}))}):null]}),Object(n.jsxs)("div",{className:"feedDetails__commentsWrapper",children:[Object(n.jsx)("div",{className:"feedDetails__comments__title",children:"Discussion"}),Object(n.jsx)(R,{isAnonymous:"Anonymous"===r.userName,currentUser:a,feedId:r.feedId})]})]}),Object(n.jsxs)("div",{className:"feedDetails__confirmStatus",children:[Object(n.jsx)("h3",{children:"History"}),Object(n.jsx)("div",{className:"feedDetails__Wrapper",children:O?Object(n.jsx)(_,{}):u.length>0?u.map((function(e,t){var a=f(new Date(1e3*e.timestamp.seconds));return Object(n.jsxs)("div",{className:"feedDetails__histroy__item",children:[Object(n.jsx)("div",{className:"feedDetails__histroy__time",children:a}),Object(n.jsx)("span",{className:"feedDetails__histroy__adminName",children:e.adminName}),Object(n.jsx)("span",{children:" marked the feed as "}),Object(n.jsx)("span",{className:"feedDetails__histroy__status"+(0===t?" first":""),children:e.status.toUpperCase()})]},t)})):Object(n.jsxs)("div",{className:"feedDetails__history__noData",children:[Object(n.jsx)("img",{src:S,alt:"No data"}),Object(n.jsx)("h4",{children:"No History Found!"})]})})]})]})},ee=function(e){var t=e.history,a=e.match,i=e.isAdmin,r=Object(s.useState)(!0),o=Object(d.a)(r,2),u=o[0],b=o[1],h=Object(s.useState)({}),f=Object(d.a)(h,2),m=f[0],O=f[1],_=Object(s.useState)({}),x=Object(d.a)(_,2),p=x[0],g=x[1],v=a.params.id;Object(s.useEffect)((function(){j.a.auth().onAuthStateChanged((function(e){null!=e&&(j.a.firestore().collection("Feeds").doc(v).get().then((function(e){e.exists?(O(Object(l.a)({feedId:e.id},e.data())),b(!1)):window.location.href="/feeds"})).catch((function(e){"permission-denied"===e.code?alert("You are not authorized to see this feed!"):alert("Connection Error! Try after sometimes!"),window.location.href="/feeds",b(!1)})),g(e))}))}),[v]);return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(w,{isAdmin:i}),Object(n.jsx)($,{onBackButton:function(){t.goBack()},feed:m,currentUser:p,onStatusChange:function(e,a){b(!0),j.a.firestore().collection("Feeds").doc(e).update({status:a}).then((function(e){"solved"===a||"rejected"===a?t.replace("/feeds"):(O((function(e){return Object(l.a)(Object(l.a)({},e),{},{status:a})})),b(!1))})).catch((function(e){alert("Error in Updating the Status!"),b(!1)}))},isLoading:u})]})},te=(a(44),function(e){var t,a=e.currentUser,i=Object(s.useState)(!0),r=Object(d.a)(i,2),l=r[0],o=r[1],u=Object(s.useState)({}),b=Object(d.a)(u,2),h=b[0],f=b[1],m=a.uid;return Object(s.useEffect)((function(){j.a.firestore().collection("Users").doc(m).get().then((function(e){f(e.data()),o(!1)})).catch((function(e){alert("Error in Getting the Details!")}))}),[m]),l?Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(w,{}),Object(n.jsx)(_,{})]}):Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(w,{}),Object(n.jsxs)("div",{className:"profilePage__container",children:[Object(n.jsx)("div",{className:"profilePage__image",children:Object(n.jsx)("img",{src:a.photoURL,alt:"Profile"})}),Object(n.jsxs)("div",{className:"profilePage__main",children:[Object(n.jsx)("div",{className:"profilePage__name",children:a.displayName}),Object(n.jsx)("div",{className:"profilePage__rollNo",children:h.userRollNo}),Object(n.jsxs)("div",{className:"profilePage__dept",children:[Object(n.jsx)("i",{className:"fa fa-building"}),Object(n.jsx)("span",{children:h.userDept})]})]})]}),Object(n.jsxs)("div",{className:"profilePage__container",children:[Object(n.jsxs)("a",{href:"mailto:".concat(a.email),className:"profilePage__email",children:[Object(n.jsx)("i",{className:"fa fa-envelope"}),Object(n.jsx)("div",{children:"Email Address"}),Object(n.jsx)("span",{children:a.email})]}),Object(n.jsxs)("a",{href:"tel:".concat(a.phoneNumber),className:"profilePage__email profilePage__phone",children:[Object(n.jsx)("i",{className:"fa fa-phone"}),Object(n.jsx)("div",{children:"Phone Number"}),Object(n.jsxs)("span",{children:["+91 ",null===(t=a.phoneNumber)||void 0===t?void 0:t.replace("+91","")]})]})]})]})}),ae=(a(82),function(){var e=Object(s.useState)(!1),t=Object(d.a)(e,2),a=t[0],i=t[1],r=Object(s.useState)(""),l=Object(d.a)(r,2),o=l[0],u=l[1],b=Object(s.useState)(""),h=Object(d.a)(b,2),f=h[0],m=h[1],O=Object(s.useState)(!1),x=Object(d.a)(O,2),p=x[0],g=x[1],v=Object(s.useState)(!1),N=Object(d.a)(v,2),I=N[0],y=N[1];Object(s.useEffect)((function(){document.getElementById("recaptcha-container").innerHTML="",window.recaptchaVerifier=new j.a.auth.RecaptchaVerifier("recaptcha-container",{size:"normal",callback:function(e){g(!0),document.getElementById("recaptcha-container").style.display="none"},"expired-callback":function(){document.getElementById("recaptcha-container").style.display="block",g(!1)}}),window.recaptchaVerifier.render()}),[]);return a?Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(w,{}),Object(n.jsx)("div",{className:"updateProfile__container",children:Object(n.jsx)("div",{className:"updateProfile__wrapper",children:Object(n.jsx)(_,{})})})]}):Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(w,{}),Object(n.jsx)("div",{className:"updateProfile__container",children:Object(n.jsxs)("div",{className:"updateProfile__wrapper",children:[Object(n.jsx)("h2",{children:"Verify Your Details"}),Object(n.jsx)("div",{className:"updateProfile__progress",children:Object(n.jsx)("div",{className:"updateProfile__progress_meter",style:{width:"75%"},children:"75%"})}),Object(n.jsx)("h4",{children:"Phone Number"}),Object(n.jsx)("div",{id:"recaptcha-container"}),I?Object(n.jsxs)("div",{className:"info__message",children:["OTP Message Sent to ","+91".concat(o)," successfully! Want to try other number? Refresh the page!"]}):null,p&&!I?Object(n.jsxs)("div",{className:"updateProfile__phone",children:[Object(n.jsx)("select",{defaultValue:"91",children:Object(n.jsx)("option",{value:"91",children:"India (+91)"})}),Object(n.jsx)("input",{type:"tel",placeholder:"Eg. 9876543210",onChange:function(e){return u(e.target.value.replace(" ",""))}}),Object(n.jsx)("button",{className:"button",onClick:function(){if(10===o.length){var e=window.recaptchaVerifier,t=new j.a.auth.PhoneAuthProvider,a="+91"+o;t.verifyPhoneNumber(a,e).then((function(e){window.verificationID=e,y(!0)})).catch((function(e){"auth/too-many-requests"===e.code?alert("We have blocked all requests from this device due to unusual activity. Try again later."):"auth/captcha-check-failed"===e.code?(alert("Verification failed!"),window.reload()):alert("Error in Sending OTP!")}))}else alert("Enter 10-digit phone number!")},children:"Send OTP"})]}):null,I?Object(n.jsxs)("div",{className:"updateProfile__phone",children:[Object(n.jsx)("input",{type:"number",maxLength:"6",placeholder:"Eg. XXXXXX",onChange:function(e){return m(e.target.value.replace(" ",""))}}),Object(n.jsx)("button",{className:"button",onClick:function(){if(6===f.length){i(!0);var e=window.verificationID,t=j.a.auth.PhoneAuthProvider.credential(e,f);j.a.auth().currentUser.linkWithCredential(t).then((function(e){j.a.firestore().collection("Users").doc(e.user.uid).update({userPhone:e.user.phoneNumber}).then((function(e){alert("Verified Successfully!"),window.location.href="/"})).catch((function(e){alert("Something went wrong!"),window.location.href="/"}))})).catch((function(e){"auth/invalid-verification-code"===e.code?(alert("OTP Code is Wrong! Enter the correct code!"),i(!1)):"auth/captcha-check-failed"===e.code?(alert("User Verification failed! Reload the page!"),window.location.reload()):"auth/code-expired"===e.code?(alert("The SMS code has expired. Please re-send the verification code to try again.!"),window.location.reload()):"auth/credential-already-in-use"===e.code?(alert("This phone is already associated with a different user account. Try again with other number!"),window.location.reload()):(alert("Error in Verifying the Phone Number! Try again after sometimes!"),window.location.reload())}))}else alert("Enter a valid 6-digit OTP!")},children:"Verify OTP"})]}):null]})})]})}),ne=function(e){var t=e.user,a=Object(o.g)(),c=Object(s.useState)(""),i=Object(d.a)(c,2),r=i[0],l=i[1],u=Object(s.useState)("I"),b=Object(d.a)(u,2),h=b[0],f=b[1],m=Object(s.useState)(!0),x=Object(d.a)(m,2),p=x[0],g=x[1],v=Object(s.useState)(!1),N=Object(d.a)(v,2),I=N[0],y=N[1],A=t.uid,C=t.displayName,E=t.email.replace("bitsathy.ac.in",""),F=E.substr(E.lastIndexOf(".")+1,2),w=Object(s.useState)(O[F]?O[F]:""),S=Object(d.a)(w,2),D=S[0],k=S[1],L=E.substr(E.lastIndexOf("&")-2,2)+"X"+F.toUpperCase()+"XXX",P=["I","II","III","IV","PASSED OUT"];Object(s.useEffect)((function(){j.a.firestore().collection("Users").doc(A).get().then((function(e){e.exists?a.replace("/profile/verify"):(y(!1),g(!1))}))}),[A,a]);return p?Object(n.jsx)("div",{className:"updateProfile__container",children:Object(n.jsx)("div",{className:"updateProfile__wrapper",children:Object(n.jsx)(_,{})})}):I?Object(n.jsx)(o.b,{path:"/profile/verify",component:ae}):Object(n.jsx)("div",{className:"updateProfile__container",children:Object(n.jsxs)("div",{className:"updateProfile__wrapper",children:[Object(n.jsx)("h2",{children:"Update Your Details"}),Object(n.jsx)("div",{className:"updateProfile__progress",children:Object(n.jsx)("div",{className:"updateProfile__progress_meter",children:"30%"})}),Object(n.jsxs)("div",{className:"updateProfile__general",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"Full Name"}),Object(n.jsx)("input",{type:"text",defaultValue:C,disabled:!0,readOnly:!0})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"Roll Number"}),Object(n.jsx)("input",{type:"text",placeholder:"Eg: "+L,onChange:function(e){return l(e.target.value.trim())}})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"Year"}),Object(n.jsx)("select",{defaultValue:"I",onChange:function(e){return f(e.target.value.trim())},children:P.map((function(e,t){return Object(n.jsx)("option",{value:e,children:e},t)}))})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"Department"}),""===D?Object(n.jsx)("input",{type:"text",onChange:function(e){var t=e.target;return k(t.value)}}):Object(n.jsx)("input",{type:"text",defaultValue:D,disabled:!0,readOnly:!0})]})]}),Object(n.jsx)("div",{className:"button updateProfile__button",onClick:function(){if(""!==r)if(8===r.length)if(""!==h){if(!P.includes(h))return alert("Nice try Mr. Hacker!"),void(window.location.href="/");g(!0),j.a.firestore().collection("Users").doc(A).set({userId:A,userEmail:t.email,userName:t.displayName,userImage:t.photoURL,userDept:D.trim().toUpperCase(),userYear:h,userRollNo:r}).then((function(e){a.replace("/profile/verify")})).catch((function(e){alert("Error in updating the Profile!"),g(!1)}))}else alert("Choose a Year!");else alert("Enter a valid Roll No!");else alert("Enter Your Roll No!")},children:"Update Profile"})]})})},se=function(e){var t=e.currentUser;return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(w,{}),Object(n.jsx)(ne,{user:t})]})},ce=function(e){return e.isLoading?Object(n.jsx)(_,{}):Object(n.jsx)("div",{className:"help__container",children:Object(n.jsxs)("div",{className:"help__container__wrapper",children:[Object(n.jsx)("div",{className:"help__container__title",children:Object(n.jsx)("h2",{children:"Frequently Asked Questions (FAQs)"})}),Object(n.jsx)("section",{className:"help__container__questions__list",children:[{question:"What is a feed?",answer:"A feed is Query / Suggestion / Feedback with the maximum of two department tags to solve the issue / address the query and keep track of it.   "},{question:"Is there any stages for the feed?",answer:"There are five different stages namely,\n'Unsolved' - Once the Feed is Posted\n'Opened' - Once the respective department has seen the feed\n'Partial' - Once the issue / query is started being processed\n'Solved' - If the issue / query is solved\n'Rejected' - If a feed contains inappropriate information and not subjected to the guidelines"}].map((function(e,t){return Object(n.jsxs)("div",{className:"help__question",children:[Object(n.jsx)("div",{className:"help__question__title",children:e.question}),Object(n.jsx)("div",{className:"help__question__answer",children:e.answer.split("\n").map((function(e,t){return Object(n.jsx)("p",{children:e},t)}))})]},t)}))})]})})},ie=function(){var e=Object(s.useState)(!0),t=Object(d.a)(e,2),a=t[0],i=t[1];return Object(s.useEffect)((function(){i(!1)}),[]),Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(w,{}),Object(n.jsx)(ce,{isLoading:a})]})},re=function(e){var t,a=e.match,i=e.user,r=Object(s.useState)(!0),l=Object(d.a)(r,2),u=l[0],b=l[1],h=Object(s.useState)({}),f=Object(d.a)(h,2),m=f[0],O=f[1],x=Object(o.g)(),p=a.params.id;return Object(s.useEffect)((function(){j.a.firestore().collection("Users").doc(p).get().then((function(e){e.exists?(O(e.data()),b(!1)):x.replace("/")})).catch((function(e){alert("Error in Getting the Details!"),x.replace("/")}))}),[p,x]),u?Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(w,{isAdmin:!0,user:i}),Object(n.jsx)(_,{})]}):Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(w,{}),Object(n.jsxs)("div",{className:"profilePage__container",children:[Object(n.jsx)("div",{className:"profilePage__image",children:Object(n.jsx)("img",{src:m.userImage,alt:"Profile"})}),Object(n.jsxs)("div",{className:"profilePage__main",children:[Object(n.jsx)("div",{className:"profilePage__name",children:m.userName}),Object(n.jsx)("div",{className:"profilePage__rollNo",children:m.userRollNo}),Object(n.jsxs)("div",{className:"profilePage__dept",children:[Object(n.jsx)("i",{className:"fa fa-building"}),Object(n.jsx)("span",{children:m.userDept})]})]})]}),Object(n.jsxs)("div",{className:"profilePage__container",children:[Object(n.jsxs)("a",{href:"mailto:".concat(m.userEmail),className:"profilePage__email",children:[Object(n.jsx)("i",{className:"fa fa-envelope"}),Object(n.jsx)("div",{children:"Email Address"}),Object(n.jsx)("span",{children:m.userEmail})]}),Object(n.jsxs)("a",{href:"tel:".concat(m.userPhone),className:"profilePage__email profilePage__phone",children:[Object(n.jsx)("i",{className:"fa fa-phone"}),Object(n.jsx)("div",{children:"Phone Number"}),Object(n.jsxs)("span",{children:["+91 ",null===(t=m.userPhone)||void 0===t?void 0:t.replace("+91","")]})]})]})]})},le=function(e){var t=e.user;return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(A,{}),Object(n.jsxs)("main",{className:"alert",children:[Object(n.jsx)("i",{className:"fa fa-warning"})," You have logged in as"," ",Object(n.jsx)("strong",{children:t.email}),"!"]}),Object(n.jsxs)("section",{className:"wrongEmailContainer",children:[Object(n.jsx)("h3",{children:"Kindly login with your Institution Email ID!"}),Object(n.jsx)("button",{onClick:function(){j.a.auth().signOut().then((function(e){})).catch((function(e){alert("Error in Logging out!")}))},className:"nav-button",children:"Log out"})]})]})},de=function(e){var t=e.isLoading,a=e.onFeedItemClick,c=e.feeds,i=Object(s.useState)("all"),r=Object(d.a)(i,2),l=r[0],o=r[1];if(null==t)return Object(n.jsx)("div",{className:"feed__container",children:"Error!"});if(t)return Object(n.jsx)(_,{});var j={all:c,solved:c.filter((function(e){return"solved"===e.status})),unsolved:c.filter((function(e){return"unsolved"===e.status})),partial:c.filter((function(e){return"partial"===e.status})),rejected:c.filter((function(e){return"rejected"===e.status}))};return c=j[l],Object(n.jsxs)("div",{className:"feed__container",children:[Object(n.jsxs)("div",{className:"feed__recentfeeds",children:[Object(n.jsxs)("div",{className:"feed__recentHeader",children:[Object(n.jsx)("h3",{children:"My Feeds"}),Object(n.jsxs)(y.b,{to:"/feed/new",className:"feed-button",children:[" ",Object(n.jsx)("i",{className:"fa fa-plus"})," New Feed"]})]}),Object(n.jsxs)("div",{className:"feed__recentList",children:[c.map((function(e,t){return Object(n.jsx)(z,{onFeedItemClick:a,feed:e},t)})),0===c.length?Object(n.jsx)("div",{className:"noData__container inside",children:Object(n.jsxs)("div",{className:"noData__wrapper",children:[Object(n.jsx)("img",{src:S,alt:"No Data Found"}),Object(n.jsx)("h2",{children:"No Feeds Found"}),Object(n.jsx)("span",{children:"Start a New Feed by tapping on 'New Feed' button!"})]})}):null]})]}),Object(n.jsxs)("div",{className:"feed__feedsfilter",children:[Object(n.jsx)("h3",{children:"Filter"}),Object(n.jsx)("div",{className:"feed__feedsWrapper",children:Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:[Object(n.jsx)("input",{type:"radio",defaultChecked:"true",onChange:function(){return o("all")},id:"all-queries",name:"filter"}),Object(n.jsx)("label",{htmlFor:"all-queries",children:"All"}),Object(n.jsx)("span",{className:"feed__filter__badge",children:j.all.length})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("input",{type:"radio",onChange:function(){return o("solved")},id:"solved",name:"filter"}),Object(n.jsx)("label",{htmlFor:"solved",children:"Solved"}),Object(n.jsx)("span",{className:"feed__filter__badge",children:j.solved.length})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("input",{type:"radio",onChange:function(){return o("partial")},id:"partial",name:"filter"}),Object(n.jsx)("label",{htmlFor:"partial",children:"Partial"}),Object(n.jsx)("span",{className:"feed__filter__badge",children:j.partial.length})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("input",{type:"radio",onChange:function(){return o("unsolved")},id:"unsolved",name:"filter"}),Object(n.jsx)("label",{htmlFor:"unsolved",children:"Unsolved"}),Object(n.jsx)("span",{className:"feed__filter__badge",children:j.unsolved.length})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("input",{type:"radio",onChange:function(){return o("rejected")},id:"rejected",name:"filter"}),Object(n.jsx)("label",{htmlFor:"rejected",children:"Rejected"}),Object(n.jsx)("span",{className:"feed__filter__badge",children:j.rejected.length})]})]})})]})]})},oe=function(e){var t=e.history,a=Object(s.useState)(!0),i=Object(d.a)(a,2),r=i[0],o=i[1],u=Object(s.useState)([]),b=Object(d.a)(u,2),h=b[0],f=b[1];Object(s.useEffect)((function(){j.a.auth().onAuthStateChanged((function(e){null!=e&&j.a.firestore().collection("Feeds").where("userId","==",e.uid).get().then((function(e){var t=[];e.forEach((function(e){t.unshift(Object(l.a)({feedId:e.id},e.data()))})),f(t),o(!1)})).catch((function(e){o(null)}))}))}),[]);return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(w,{isAdmin:!0}),Object(n.jsx)(de,{feeds:h,onFeedItemClick:function(e){e&&t.push("admin/feed/".concat(e))},isLoading:r})]})},je=function(){var e=Object(s.useState)(null),t=Object(d.a)(e,2),a=t[0],i=t[1];return j.a.apps.length||j.a.initializeApp(h),Object(s.useEffect)((function(){j.a.auth().onAuthStateChanged((function(e){null!=e?(b(e)&&!e.displayName&&e.updateProfile({displayName:"Feedback Admin",photoURL:"/favicon.png"}),i(e)):i(!1)}))}),[]),null==a?Object(n.jsx)(_,{}):!1===a?Object(n.jsx)(c.a.Fragment,{children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{path:"/login",component:C}),Object(n.jsx)(o.b,{path:"/admin/login",component:F}),Object(n.jsx)(o.a,{from:"/",to:"/login"})]})}):null==a||a.email.toLowerCase().endsWith("@bitsathy.ac.in")?null!=a&&a.email.replace("@bitsathy.ac.in","").includes(".")?a.phoneNumber?Object(n.jsx)(c.a.Fragment,{children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{path:"/feeds",component:Z}),Object(n.jsx)(o.b,{path:"/feed/new",exact:!0,component:K}),Object(n.jsx)(o.b,{path:"/feed/:id",component:ee}),Object(n.jsx)(o.b,{path:"/help",component:ie}),Object(n.jsx)(o.b,{path:"/profile",exact:!0,render:function(e){return Object(n.jsx)(te,Object(l.a)({currentUser:a},e))}}),Object(n.jsx)(o.a,{from:"/",to:"/feeds"})]})}):Object(n.jsx)(c.a.Fragment,{children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{path:"/profile/verify",component:ae}),Object(n.jsx)(o.b,{path:"/profile/update",render:function(e){return Object(n.jsx)(se,Object(l.a)({currentUser:a},e))}}),Object(n.jsx)(o.a,{from:"/",to:"/profile/update"})]})}):b(a)?Object(n.jsx)(c.a.Fragment,{children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{path:"/admin/feeds",render:function(e){return Object(n.jsx)(P,Object(l.a)({user:a},e))}}),Object(n.jsx)(o.b,{path:"/admin/feed/:id",render:function(e){return Object(n.jsx)(B,Object(l.a)({user:a},e))}}),Object(n.jsx)(o.b,{render:function(e){return Object(n.jsx)(re,Object(l.a)({user:a},e))},path:"/admin/profile/:id"}),Object(n.jsx)(o.b,{render:function(e){return Object(n.jsx)(M,Object(l.a)({user:a},e))},path:"/admin/help"}),Object(n.jsx)(o.b,{path:"/admin/manage/users",render:function(e){return Object(n.jsx)(q,Object(l.a)({user:a},e))}}),Object(n.jsx)(o.a,{from:"/",to:"/admin/feeds"})]})}):null==a||a.email.replace("@bitsathy.ac.in","").includes(".")?Object(n.jsx)("h2",{children:"Server Error!"}):Object(n.jsx)(c.a.Fragment,{children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{path:"/admin/feeds",component:P}),Object(n.jsx)(o.b,{path:"/admin/myfeeds",render:function(e){return Object(n.jsx)(oe,Object(l.a)({user:a},e))}}),Object(n.jsx)(o.b,{path:"/admin/feed/:id",component:B}),Object(n.jsx)(o.b,{path:"/admin/profile/:id",component:re}),Object(n.jsx)(o.b,{path:"/feed/new",render:function(e){return Object(n.jsx)(K,Object(l.a)({isAdmin:!0,user:a},e))},exact:!0}),Object(n.jsx)(o.b,{path:"/feed/:id",render:function(e){return Object(n.jsx)(ee,Object(l.a)({isAdmin:!0,user:a},e))}}),Object(n.jsx)(o.b,{path:"/admin/help",component:M}),Object(n.jsx)(o.a,{from:"/",to:"/admin/feeds"})]})}):Object(n.jsx)(c.a.Fragment,{children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{path:"/login/wrong_email",render:function(e){return Object(n.jsx)(le,Object(l.a)(Object(l.a)({},e),{},{user:a}))}}),Object(n.jsx)(o.a,{from:"/",to:"login/wrong_email"})]})})},ue=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,84)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))};r.a.render(Object(n.jsx)(y.a,{children:Object(n.jsx)(je,{})}),document.getElementById("root")),ue()}},[[83,1,2]]]);
//# sourceMappingURL=main.32af98b9.chunk.js.map